В компьютерном программировании термин "подключение" охватывает ряд методов,
используемых для изменения или улучшения поведения операционной системы,
приложений или других программных компонентов путем перехвата вызовов функций,
сообщений или событий, передаваемых между программными компонентами.
Код, который обрабатывает такие перехваченные вызовы функций,
события или сообщения, называется КРЮЧКОМ.

Вступление

Подключение используется для многих целей,
включая отладку и расширение функциональности.
Примеры могут включать перехват сообщений о событиях клавиатуры или мыши до того,
как они достигнут приложения,
или перехват вызовов операционной системы с целью отслеживания поведения или
изменения функций приложения или другого компонента.
Он также широко используется в программах сравнительного анализа, например,
для измерения частоты кадров в 3D-играх, где вывод и ввод осуществляются с помощью подключения.

Проще говоря, поэтому нет ничего странного в том, что подключение является основой MiniLibX.

Подключение к ключевым событиям

Подсоединение может показаться сложным, но на самом деле это не так.
Давайте посмотрим, не так ли?

#include <mlx.h>
#include <stdio.h>

typedef struct	s_vars {
	void	*mlx;
	void	*win;
}				t_vars;

int	key_hook(int keycode, t_vars *vars)
{
	printf("Hello from key_hook!\n");
	return (0);
}

int	main(void)
{
	t_vars	vars;

	vars.mlx = mlx_init();
	vars.win = mlx_new_window(vars.mlx, 640, 480, "Hello world!");
	mlx_key_hook(vars.win, key_hook, &vars);
	mlx_loop(vars.mlx);
}

Теперь мы зарегистрировали функцию, которая будет печатать сообщение всякий раз,
когда мы нажимаем клавишу.
Как вы можете видеть, мы регистрируем функцию крючка с помощью mlx_key_hook.
Однако в фоновом режиме он просто вызывает функцию mlx_hook с соответствующими
типами событий X11. Мы обсудим это в следующей главе.

Подключение к событиям мыши

Кроме того, вы можете подключать события мыши.

mlx_mouse_hook(vars.win, mouse_hook, &vars);

Mouse code for MacOS:

    Left click: 1
    Right click: 2
    Middle click: 3
    Scroll up: 4
    Scroll down : 5

Проверьте свои навыки!

Теперь, когда у вас есть слабое представление о том,
что такое КРЮЧКИ, мы позволим вам создать несколько собственных.
Создавайте обработчики КРЮЧКОВ, которые всякий раз:

 - при нажатии клавиши в терминале будет выведен код ключа.
 - если мышь будет перемещена, она выведет текущее положение этой мыши в терминале.
 - при нажатии мыши она выведет угол, под которым она переместилась по окну к терминалу.